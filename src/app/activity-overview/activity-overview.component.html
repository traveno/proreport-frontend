<div class="card shadow">
  <div class="card-header">
    <i class="bi bi-activity"></i>
    Activity Overview
  </div>
  <div class="card-body">
    <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs nav-fill">
      <li *ngFor="let d of defService.getDefinitions().departments" [ngbNavItem]="defService.getDefinitions().departments.indexOf(d)">
        <a ngbNavLink>{{d.department}}</a>
        <ng-template ngbNavContent>
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th scope="col">Machine</th>
                <th scope="col">Active</th>
                <th scope="col">Mfg Complete</th>
                <th scope="col">Shipped</th>
                <th scope="col">Invoiced</th>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let r of d.machines">
                <tr>
                  <td>{{r}}</td><td>{{getResourceActivityByStatus(r, 0)}}</td><td>{{getResourceActivityByStatus(r, 4)}}</td><td>{{getResourceActivityByStatus(r, 6)}}</td><td>{{getResourceActivityByStatus(r, 3)}}</td>
                </tr>
             </ng-container>
            </tbody>
          </table>
        </ng-template>
      </li>
    </ul>
    <div [ngbNavOutlet]="nav" class="mt-2"></div>
  </div>
</div>